let form_values={jenis:!1,nilai:!1,nomor:!1,principal:!1,obligee:!1,date_from:!1,date_to:!1,days:!1};function fill_forms(t={}){for(const a in t)$("#"+a)[t[a][0]](t[a][1]).trigger(t[a][2])}function fill_select_form(t){let a="<option selected disabled>---</option>";$.each(data_select[t],(function(t,n){a+='<option value="'+t+'">'+n+"</option>"})),$("#"+t).html(a).attr("disabled",!1),$("#other_"+t).html('<button type="button" id="btn_'+t+'" class="btn btn-link px-0 py-0 btn-sm ml-2">Masukkan Nama '+first_letter_capital(t)+" Baru?</button>"),$("#btn_"+t).click((function(){form_values[t]=!1,enable_submit_button(),show_input(t)}))}function show_input(t){let a='<div class="d-flex mt-2"><input type="text" class="form-control" name="'+t+'_input" placeholder="Nama '+first_letter_capital(t)+'">';a+='<button type="button" id="input_cancel_'+t+'" class="btn btn-link pr-0"><i class="fas fa-times"></i></button></div>',$("#other_"+t).html(a),$("#"+t).html("").attr("disabled",!0),$("#input_cancel_"+t).click((function(){form_values[t]=!1,enable_submit_button(),fill_select_form(t)})),$('input[name="'+t+'_input"]').keyup((function(){form_values[t]=""!=$(this).val(),enable_submit_button()}))}function date_range(){let t=0,a=0;""!=$("#val_tanggal_from").val()&&(t=new Date($("#val_tanggal_from").val()).getTime()),""!=$("#val_tanggal_to").val()&&(a=new Date($("#val_tanggal_to").val()).getTime()),a-t>0&&t>0?($("#days").val(Math.ceil((a-t)/864e5)+1),form_values.days=!0):($("#days").val(""),form_values.days=!1)}function date_add(t){if(""!=$("#val_tanggal_from").val()){let a=new Date($("#val_tanggal_from").val()),n=parseInt(t)-1>0?parseInt(t)-1:0;if(n>0){a.setDate(a.getDate()+n);const t=a.toISOString().substring(0,10);$("#val_tanggal_to").val(t),$("#tanggal_to_input").val(convert_date(t)),form_values.date_to=!0}else empty_date_to()}else empty_date_to()}function empty_date_to(){$("#val_tanggal_to").val(""),$("#tanggal_to_input").val(""),form_values.date_to=!1}function enable_submit_button(){const t=Object.values(form_values).every(Boolean);$('button[type="submit"]').attr("disabled",!t)}$((function(){fill_select_form("principal"),fill_select_form("obligee"),setup_datepicker("#tanggal_from",!0),setup_datepicker("#tanggal_to",!0),$("[data-mask]").inputmask(),$('form[method="POST"]').submit((function(){$('button[type="submit"]').attr("disabled",!0)})),$("#jenis").on("change",(function(){form_values.jenis=null!=$(this).val(),enable_submit_button()})),$("#principal").on("change",(function(){form_values.principal=null!=$(this).val(),enable_submit_button()})),$("#obligee").on("change",(function(){form_values.obligee=null!=$(this).val(),enable_submit_button()})),$("#jaminan_num").on("keyup",(function(){form_values.nomor=""!=$(this).val(),enable_submit_button()})),$("#nilai").on("keyup",(function(){form_values.nilai=""!=$(this).val(),enable_submit_button()})),$("#days").on("keyup",(function(){form_values.days=parseInt($(this).val())>1,date_add($(this).val()),enable_submit_button()})),$("#val_tanggal_from").on("input",(function(){form_values.date_from=""!=$(this).val(),date_range(),enable_submit_button()})),$("#val_tanggal_to").on("input",(function(){form_values.date_to=""!=$(this).val(),date_range(),enable_submit_button()})),"undefined"!=typeof jaminandata&&setTimeout((()=>{fill_forms(jaminandata)}),10)}));